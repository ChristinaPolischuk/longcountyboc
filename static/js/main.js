"use strict";

;

(function () {
  cropText();
  hideBlock();
  var readMore = document.querySelectorAll('.js-read-more');
  readMore.forEach(function (el) {
    el.addEventListener('click', function () {
      var elText = el.innerText;
      var hiddenText = el.previousElementSibling;
      el.innerText = elText == 'read more >' ? 'hide' : 'read more >';
      hiddenText.classList.toggle('show');
    });
  });

  function cropText() {
    var max = 200;
    var text = document.querySelectorAll('.js-read-more-text');
    text.forEach(function (el) {
      var str = el.innerText.trim();

      if (str.length > max) {
        var subStr = str.substring(0, max);
        var hiddenStr = str.substring(max, str.length);
        el.innerText = subStr;
        el.innerHTML += "<span class=\"hidden-text js-hidden-text\">".concat(hiddenStr, "</span>");
        el.innerHTML += '<span class="read-more js-read-more">read more ></span>';
      }
    });
  }

  var showReview = document.querySelectorAll('.js-show-review');
  showReview.forEach(function (el) {
    el.addEventListener('click', function () {
      var elText = el.innerText;
      var hiddenText = el.previousElementSibling;
      var images = el.nextElementSibling;
      el.innerText = elText == 'read more >' ? '< hide' : 'read more >';
      hiddenText.classList.toggle('show');
      images.classList.toggle("show");
    });
  });

  function hideBlock() {
    var max = 128;
    var productReview = document.querySelectorAll('.js-hide-review');
    productReview.forEach(function (el) {
      var productText = el.querySelector(".page-text");
      var str = productText.innerText.trim();
      var images = el.querySelector('.product-review__images');

      if (str.length > max) {
        var subStr = str.substring(0, max);
        var hiddenStr = str.substring(max, str.length);
        productText.innerText = subStr;
        var hiddenText = document.createElement('span');
        hiddenText.classList.add('hidden-text', 'page-text', 'js-hidden-text');
        hiddenText.textContent = hiddenStr;
        productText.after(hiddenText);
      }

      var readMore = document.createElement('span');
      readMore.classList.add('read-more', 'js-show-review');
      readMore.textContent = 'read more >';
      images.before(readMore);
    });
  }

  var accordions = document.querySelectorAll(".accordion__item");

  var openAccordion = function openAccordion(accordion) {
    var content = accordion.querySelector(".accordion__body");
    accordion.classList.add("active");
    content.style.maxHeight = content.scrollHeight + "px";
  };

  var closeAccordion = function closeAccordion(accordion) {
    var content = accordion.querySelector(".accordion__body");
    accordion.classList.remove("active");
    content.style.maxHeight = null;
  };

  accordions.forEach(function (accordion) {
    var intro = accordion.querySelector(".accordion__header");
    var content = accordion.querySelector(".accordion__body");

    intro.onclick = function () {
      if (content.style.maxHeight) {
        closeAccordion(accordion);
      } else {
        // accordions.forEach((accordion) => closeAccordion(accordion));
        openAccordion(accordion);
      }
    };
  });
  var sidebarLinks = document.querySelectorAll(".sidebar-menu__link");
  sidebarLinks.forEach(function (elem) {
    return elem.addEventListener("click", navbarLinkClick);
  });

  function navbarLinkClick(event) {
    smoothScroll(event);
  }

  function smoothScroll(event) {
    event.preventDefault();
    var targetId = event.currentTarget.getAttribute("href");

    if (window.screen.width > 1024) {
      window.scrollTo({
        top: targetId === "#" ? 0 : document.querySelector(targetId).offsetTop - 100,
        behavior: "smooth"
      });
    } else {
      window.scrollTo({
        top: targetId === "#" ? 0 : document.querySelector(targetId).offsetTop - 200,
        behavior: "smooth"
      });
    }
  }

  if (document.querySelector('.products-sticky') !== null) {
    window.addEventListener('optimizedResize', function () {
      toggleFixed('.products-sticky');
    });
    toggleFixed('.products-sticky');
    throttle("resize", "optimizedResize");
  }

  if (document.querySelector('.sticky-block') !== null) {
    var _stickyBlockCoords = document.querySelector('.sticky-block').getBoundingClientRect().bottom + window.pageYOffset;

    window.addEventListener("scroll", function () {
      trackScroll('.sticky-block');
    });
  }

  function trackScroll(elements) {
    var stickyBlocks = document.querySelectorAll(elements);
    stickyBlocks.forEach(function (el) {
      if (el.classList.contains('show') && window.pageYOffset < stickyBlockCoords) {
        el.classList.remove('show');
      } else if (window.pageYOffset > stickyBlockCoords) {
        el.classList.add('show');
      }
    });
  }

  function throttle(type, name, obj) {
    obj = obj || window;
    var running = false;

    var func = function func() {
      if (running) {
        return;
      }

      running = true;
      requestAnimationFrame(function () {
        obj.dispatchEvent(new CustomEvent(name));
        running = false;
      });
    };

    obj.addEventListener(type, func);
  }

  ;

  function toggleFixed(el) {
    var element = document.querySelector(el);
    var fixedWidth = window.screen.width > 1024 ? element.parentElement.clientWidth - 285 : element.parentElement.clientWidth;
    element.style.width = fixedWidth + 'px';
  } // hamburger open/close animation


  var trigger = document.querySelector("#hamburger");
  var mobileNav = document.querySelector("#mobile-nav");
  var isClosed = true;
  trigger.addEventListener("click", burgerTime);

  function burgerTime() {
    if (isClosed == true) {
      trigger.classList.remove("is-open");
      trigger.classList.add("is-closed");
      mobileNav.classList.add('is-open');
      isClosed = false;
    } else {
      trigger.classList.remove("is-closed");
      trigger.classList.add("is-open");
      mobileNav.classList.remove('is-open');
      isClosed = true;
    }
  } // search form open/close animation


  var searchBtn = document.querySelector(".search-form__btn");
  searchBtn.addEventListener("click", function () {
    this.classList.toggle("close");
    this.previousElementSibling.classList.toggle("inclicked");
    this.previousElementSibling.value = "";
  });
  var productReviewStars = document.querySelectorAll(".product-review__stars");
  productReviewStars.forEach(function (el) {
    var dataRating = el.getAttribute("data-rating");
    var stars = el.children;

    for (var i = 0; i < dataRating; i++) {
      stars[i].classList.add("active");
    }
  });
  document.addEventListener("click", function (e) {
    if (e.target.classList.contains("js-open-dropdown") && window.screen.width <= 576) {
      var caretDropdown = e.target.firstElementChild;
      var dropdown = e.target.nextElementSibling;

      if (dropdown.style.maxHeight) {
        dropdown.style.maxHeight = null;
        dropdown.style.opacity = null;
        e.target.classList.remove("dropdown-active");
      } else {
        dropdown.style.maxHeight = dropdown.scrollHeight + "px";
        dropdown.style.opacity = 1;
        e.target.classList.add("dropdown-active");
      }
    }
  });

  var basicScrollTop = function basicScrollTop() {
    var btnTop = document.querySelector('.js-btn-go-top');

    var btnReveal = function btnReveal() {
      if (window.scrollY >= 300) {
        btnTop.classList.add('is-visible');
      } else {
        btnTop.classList.remove('is-visible');
      }
    };

    var TopscrollTo = function TopscrollTo() {
      if (window.scrollY != 0) {
        setTimeout(function () {
          window.scrollTo(0, window.scrollY - 30);
          TopscrollTo();
        }, 10);
      }
    };

    window.addEventListener('scroll', btnReveal);
    btnTop.addEventListener('click', TopscrollTo);
  };

  basicScrollTop();

  var openModal = function openModal() {
    var modalBtn = document.querySelectorAll(".js-modal");
    var modalContainer = document.querySelector(".modal-background");
    modalBtn.forEach(function (el) {
      el.addEventListener("click", function () {
        document.body.classList.add("modal-active");
        modalContainer.classList.remove("out");
        modalContainer.classList.add("opened");
      });
    });
    document.addEventListener("click", function (e) {
      if (e.target.classList.contains("modal-container") || e.target.classList.contains("modal-close")) {
        document.body.classList.remove("modal-active");
        modalContainer.classList.remove("opened");
        modalContainer.classList.add("out");
      }
    });
    document.addEventListener("keydown", function (e) {
      if (e.keyCode == 27) {
        document.body.classList.remove("modal-active");
        modalContainer.classList.remove("opened");
        modalContainer.classList.add("out");
      }
    });
  };

  openModal();

  var seeMore = function seeMore(number, elements, button) {
    if (document.querySelector(button) == null) {
      return false;
    }

    window.addEventListener("load", function () {
      return showHideBlocks(number, elements, button);
    });
    window.addEventListener("resize", function () {
      return showHideBlocks(number, elements, button);
    });
    document.querySelector(button).addEventListener("click", function () {
      if (this.textContent == "See more") {
        this.textContent = "See less";
        this.classList.add("active");
      } else {
        this.textContent = "See more";
        this.classList.remove("active");
      }

      document.querySelectorAll(elements).forEach(function (elem, index) {
        if (elem.style.display == "none") {
          elem.style.display = null;
        } else {
          if (index > number) {
            elem.style.display = 'none';
          }
        }
      });
    });

    function showHideBlocks(number, elements, button) {
      var elems = document.querySelectorAll(elements);
      var btnShowHide = document.querySelector(button);

      if (window.screen.width <= 800 && elems.length > number) {
        elems.forEach(function (elem, index) {
          if (index > number) {
            elem.style.display = 'none';
            btnShowHide.style.display = null;
          }
        });
      } else {
        elems.forEach(function (elem, index) {
          elem.style.display = null;
          btnShowHide.style.display = 'none';
        });
      }
    }
  };

  seeMore(3, '.product-compare-top__item', '.js-see-more-products');
  seeMore(1, '.help-center__item', '.js-see-more-help');

  var showFooterLinks = function showFooterLinks() {
    var footerTitle = document.querySelectorAll('.footer__title');
    var footerLinks = document.querySelectorAll('.footer__links'); // window.addEventListener('load', () => showHideLinks);

    window.addEventListener('resize', function () {
      if (window.screen.width <= 576) {
        footerLinks.forEach(function (footerLink) {
          footerLink.style.maxHeight = 0;
        });
      } else {
        footerLinks.forEach(function (footerLink) {
          footerLink.style.maxHeight = null;
        });
      }
    });
    footerTitle.forEach(function (title) {
      title.addEventListener('click', function () {
        var footerLinks = this.nextElementSibling;

        if (getComputedStyle(footerLinks).maxHeight == '0px') {
          this.classList.add('active');
          footerLinks.style.maxHeight = footerLinks.scrollHeight + "px";
          footerLinks.style.opacity = 1;
        } else {
          this.classList.remove('active');
          footerLinks.style.maxHeight = null;
          footerLinks.style.opacity = null;
        }
      });
    });
  };

  showFooterLinks();

  var setPercent = function setPercent() {
    var circularProgress = document.querySelectorAll(".js-circular-progress");
    circularProgress.forEach(function (item) {
      var circle = item.querySelector('.circular-progress__percent');
      var text = item.querySelector('.circular-info__number');
      var dataPercent = item.getAttribute('data-percent');
      var percent = (100 - dataPercent) / 100;
      circle.style.strokeDashoffset = "calc(2*30*3.14*".concat(percent, ")");
      text.textContent = dataPercent;
    });
  };

  setPercent();
  document.addEventListener("blur", function (e) {
    if (e.target.classList.contains('contact-form__field') || e.target.classList.contains('contact-form__message')) {
      if (e.target.value.trim() != '') {
        e.target.nextElementSibling.classList.add('active');
      } else {
        e.target.nextElementSibling.classList.remove('active');
      }
    }
  }, true);
  $(".js-product-slider-preview").slick({
    slidesToShow: 4,
    vertical: true,
    verticalSwiping: true,
    slidesToScroll: 1,
    focusOnSelect: true,
    prevArrow: ".product-slider-preview__btn--prev",
    nextArrow: ".product-slider-preview__btn--next",
    variableWidth: true,
    asNavFor: ".product-slider-main"
  });
  $(".product-slider-main").slick({
    slidesToShow: 1,
    slidesToScroll: 1,
    arrows: false,
    fade: true,
    asNavFor: ".js-product-slider-preview"
  });
  $(".js-product-compare-slider").slick({
    slidesToShow: 1,
    slidesToScroll: 1,
    prevArrow: ".product-compare-slider__btn--prev",
    nextArrow: ".product-compare-slider__btn--next" // variableWidth: true,

  });
  $(".js-related-products-slider").slick({
    slidesToShow: 3,
    slidesToScroll: 1,
    prevArrow: ".js-related-prev",
    nextArrow: ".js-related-next",
    responsive: [{
      breakpoint: 768,
      settings: {
        slidesToShow: 2
      }
    }, {
      breakpoint: 576,
      settings: {
        slidesToShow: 1
      }
    }]
  });
  $(".js-resently-viewed-slider").slick({
    slidesToShow: 4,
    slidesToScroll: 1,
    prevArrow: ".js-resently-viewed-prev",
    nextArrow: ".js-resently-viewed-next",
    responsive: [{
      breakpoint: 992,
      settings: {
        slidesToShow: 3
      }
    }, {
      breakpoint: 768,
      settings: {
        slidesToShow: 2
      }
    }, {
      breakpoint: 576,
      settings: {
        slidesToShow: 1
      }
    }]
  });
  $('body').on('keyup', '.js-search-matches', function () {
    var self = $(this);
    var list = $('.' + self.data('list'));
    $.ajax({
      url: self.data('url') + '?q=' + self.val(),
      type: 'GET',
      dataType: 'json',
      success: function success(response) {
        list.empty();

        if (response.items.length) {
          $.each(response.items, function (i, item) {
            list.append("<a class=\"search-form-matches__link\" href=\"".concat(item.url, "\">").concat(item.title, "</a>"));
          });
        }
      }
    });
  });
})();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiY3JvcFRleHQiLCJoaWRlQmxvY2siLCJyZWFkTW9yZSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJlbCIsImFkZEV2ZW50TGlzdGVuZXIiLCJlbFRleHQiLCJpbm5lclRleHQiLCJoaWRkZW5UZXh0IiwicHJldmlvdXNFbGVtZW50U2libGluZyIsImNsYXNzTGlzdCIsInRvZ2dsZSIsIm1heCIsInRleHQiLCJzdHIiLCJ0cmltIiwibGVuZ3RoIiwic3ViU3RyIiwic3Vic3RyaW5nIiwiaGlkZGVuU3RyIiwiaW5uZXJIVE1MIiwic2hvd1JldmlldyIsImltYWdlcyIsIm5leHRFbGVtZW50U2libGluZyIsInByb2R1Y3RSZXZpZXciLCJwcm9kdWN0VGV4dCIsInF1ZXJ5U2VsZWN0b3IiLCJjcmVhdGVFbGVtZW50IiwiYWRkIiwidGV4dENvbnRlbnQiLCJhZnRlciIsImJlZm9yZSIsImFjY29yZGlvbnMiLCJvcGVuQWNjb3JkaW9uIiwiYWNjb3JkaW9uIiwiY29udGVudCIsInN0eWxlIiwibWF4SGVpZ2h0Iiwic2Nyb2xsSGVpZ2h0IiwiY2xvc2VBY2NvcmRpb24iLCJyZW1vdmUiLCJpbnRybyIsIm9uY2xpY2siLCJzaWRlYmFyTGlua3MiLCJlbGVtIiwibmF2YmFyTGlua0NsaWNrIiwiZXZlbnQiLCJzbW9vdGhTY3JvbGwiLCJwcmV2ZW50RGVmYXVsdCIsInRhcmdldElkIiwiY3VycmVudFRhcmdldCIsImdldEF0dHJpYnV0ZSIsIndpbmRvdyIsInNjcmVlbiIsIndpZHRoIiwic2Nyb2xsVG8iLCJ0b3AiLCJvZmZzZXRUb3AiLCJiZWhhdmlvciIsInRvZ2dsZUZpeGVkIiwidGhyb3R0bGUiLCJzdGlja3lCbG9ja0Nvb3JkcyIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImJvdHRvbSIsInBhZ2VZT2Zmc2V0IiwidHJhY2tTY3JvbGwiLCJlbGVtZW50cyIsInN0aWNreUJsb2NrcyIsImNvbnRhaW5zIiwidHlwZSIsIm5hbWUiLCJvYmoiLCJydW5uaW5nIiwiZnVuYyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImRpc3BhdGNoRXZlbnQiLCJDdXN0b21FdmVudCIsImVsZW1lbnQiLCJmaXhlZFdpZHRoIiwicGFyZW50RWxlbWVudCIsImNsaWVudFdpZHRoIiwidHJpZ2dlciIsIm1vYmlsZU5hdiIsImlzQ2xvc2VkIiwiYnVyZ2VyVGltZSIsInNlYXJjaEJ0biIsInZhbHVlIiwicHJvZHVjdFJldmlld1N0YXJzIiwiZGF0YVJhdGluZyIsInN0YXJzIiwiY2hpbGRyZW4iLCJpIiwiZSIsInRhcmdldCIsImNhcmV0RHJvcGRvd24iLCJmaXJzdEVsZW1lbnRDaGlsZCIsImRyb3Bkb3duIiwib3BhY2l0eSIsImJhc2ljU2Nyb2xsVG9wIiwiYnRuVG9wIiwiYnRuUmV2ZWFsIiwic2Nyb2xsWSIsIlRvcHNjcm9sbFRvIiwic2V0VGltZW91dCIsIm9wZW5Nb2RhbCIsIm1vZGFsQnRuIiwibW9kYWxDb250YWluZXIiLCJib2R5Iiwia2V5Q29kZSIsInNlZU1vcmUiLCJudW1iZXIiLCJidXR0b24iLCJzaG93SGlkZUJsb2NrcyIsImluZGV4IiwiZGlzcGxheSIsImVsZW1zIiwiYnRuU2hvd0hpZGUiLCJzaG93Rm9vdGVyTGlua3MiLCJmb290ZXJUaXRsZSIsImZvb3RlckxpbmtzIiwiZm9vdGVyTGluayIsInRpdGxlIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsInNldFBlcmNlbnQiLCJjaXJjdWxhclByb2dyZXNzIiwiaXRlbSIsImNpcmNsZSIsImRhdGFQZXJjZW50IiwicGVyY2VudCIsInN0cm9rZURhc2hvZmZzZXQiLCIkIiwic2xpY2siLCJzbGlkZXNUb1Nob3ciLCJ2ZXJ0aWNhbCIsInZlcnRpY2FsU3dpcGluZyIsInNsaWRlc1RvU2Nyb2xsIiwiZm9jdXNPblNlbGVjdCIsInByZXZBcnJvdyIsIm5leHRBcnJvdyIsInZhcmlhYmxlV2lkdGgiLCJhc05hdkZvciIsImFycm93cyIsImZhZGUiLCJyZXNwb25zaXZlIiwiYnJlYWtwb2ludCIsInNldHRpbmdzIiwib24iLCJzZWxmIiwibGlzdCIsImRhdGEiLCJhamF4IiwidXJsIiwidmFsIiwiZGF0YVR5cGUiLCJzdWNjZXNzIiwicmVzcG9uc2UiLCJlbXB0eSIsIml0ZW1zIiwiZWFjaCIsImFwcGVuZCJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFDQSxDQUFDLFlBQVk7QUFDVEEsRUFBQUEsUUFBUTtBQUNSQyxFQUFBQSxTQUFTO0FBRVQsTUFBSUMsUUFBUSxHQUFHQyxRQUFRLENBQUNDLGdCQUFULENBQTBCLGVBQTFCLENBQWY7QUFFQUYsRUFBQUEsUUFBUSxDQUFDRyxPQUFULENBQWlCLFVBQUFDLEVBQUUsRUFBSTtBQUNuQkEsSUFBQUEsRUFBRSxDQUFDQyxnQkFBSCxDQUFvQixPQUFwQixFQUE2QixZQUFNO0FBQy9CLFVBQUlDLE1BQU0sR0FBR0YsRUFBRSxDQUFDRyxTQUFoQjtBQUNBLFVBQUlDLFVBQVUsR0FBR0osRUFBRSxDQUFDSyxzQkFBcEI7QUFFQUwsTUFBQUEsRUFBRSxDQUFDRyxTQUFILEdBQWVELE1BQU0sSUFBSSxhQUFWLEdBQTBCLE1BQTFCLEdBQW1DLGFBQWxEO0FBQ0FFLE1BQUFBLFVBQVUsQ0FBQ0UsU0FBWCxDQUFxQkMsTUFBckIsQ0FBNEIsTUFBNUI7QUFDSCxLQU5EO0FBT0gsR0FSRDs7QUFVQSxXQUFTYixRQUFULEdBQW9CO0FBQ2hCLFFBQUljLEdBQUcsR0FBRyxHQUFWO0FBQ0EsUUFBSUMsSUFBSSxHQUFHWixRQUFRLENBQUNDLGdCQUFULENBQTBCLG9CQUExQixDQUFYO0FBQ0FXLElBQUFBLElBQUksQ0FBQ1YsT0FBTCxDQUFhLFVBQUFDLEVBQUUsRUFBSTtBQUNmLFVBQUlVLEdBQUcsR0FBR1YsRUFBRSxDQUFDRyxTQUFILENBQWFRLElBQWIsRUFBVjs7QUFDQSxVQUFJRCxHQUFHLENBQUNFLE1BQUosR0FBYUosR0FBakIsRUFBc0I7QUFDbEIsWUFBSUssTUFBTSxHQUFHSCxHQUFHLENBQUNJLFNBQUosQ0FBYyxDQUFkLEVB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QW5CLEVBQTJCO0FBQ3ZCa0gsVUFBQUEsQ0FBQyxDQUFDNEIsSUFBRixDQUFPSCxRQUFRLENBQUNFLEtBQWhCLEVBQXVCLFVBQVVsRSxDQUFWLEVBQWFrQyxJQUFiLEVBQW1CO0FBQ3RDdUIsWUFBQUEsSUFBSSxDQUFDVyxNQUFMLHlEQUEwRGxDLElBQUksQ0FBQzBCLEdBQS9ELGdCQUF1RTFCLElBQUksQ0FBQ0osS0FBNUU7QUFDSCxXQUZEO0FBR0g7QUFDSjtBQVpFLEtBQVA7QUFjSCxHQWpCRDtBQWtCSCxDQTFlRCIsInNvdXJjZXNDb250ZW50IjpbIjtcclxuKGZ1bmN0aW9uICgpIHtcclxuICAgIGNyb3BUZXh0KCk7XHJcbiAgICBoaWRlQmxvY2soKTtcclxuXHJcbiAgICBsZXQgcmVhZE1vcmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuanMtcmVhZC1tb3JlJyk7XHJcblxyXG4gICAgcmVhZE1vcmUuZm9yRWFjaChlbCA9PiB7XHJcbiAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBlbFRleHQgPSBlbC5pbm5lclRleHQ7XHJcbiAgICAgICAgICAgIGxldCBoaWRkZW5UZXh0ID0gZWwucHJldmlvdXNFbGVtZW50U2libGluZztcclxuXHJcbiAgICAgICAgICAgIGVsLmlubmVyVGV4dCA9IGVsVGV4dCA9PSAncmVhZCBtb3JlID4nID8gJ2hpZGUnIDogJ3JlYWQgbW9yZSA+JztcclxuICAgICAgICAgICAgaGlkZGVuVGV4dC5jbGFzc0xpc3QudG9nZ2xlKCdzaG93Jyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBmdW5jdGlvbiBjcm9wVGV4dCgpIHtcclxuICAgICAgICBsZXQgbWF4ID0gMjAwO1xyXG4gICAgICAgIGxldCB0ZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmpzLXJlYWQtbW9yZS10ZXh0Jyk7XHJcbiAgICAgICAgdGV4dC5mb3JFYWNoKGVsID0+IHtcclxuICAgICAgICAgICAgbGV0IHN0ciA9IGVsLmlubmVyVGV4dC50cmltKCk7XHJcbiAgICAgICAgICAgIGlmIChzdHIubGVuZ3RoID4gbWF4KSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgc3ViU3RyID0gc3RyLnN1YnN0cmluZygwLCBtYXgpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGhpZGRlblN0ciA9IHN0ci5zdWJzdHJpbmcobWF4LCBzdHIubGVuZ3RoKTtcclxuICAgICAgICAgICAgICAgIGVsLmlubmVyVGV4dCA9IHN1YlN0cjtcclxuICAgICAgICAgICAgICAgIGVsLmlubmVySFRNTCArPSBgPHNwYW4gY2xhc3M9XCJoaWRkZW4tdGV4dCBqcy1oaWRkZW4tdGV4dFwiPiR7aGlkZGVuU3RyfTwvc3Bhbj5gO1xyXG4gICAgICAgICAgICAgICAgZWwuaW5uZXJIVE1MICs9ICc8c3BhbiBjbGFzcz1cInJlYWQtbW9yZSBqcy1yZWFkLW1vcmVcIj5yZWFkIG1vcmUgPjwvc3Bhbj4nO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHNob3dSZXZpZXcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuanMtc2hvdy1yZXZpZXcnKTtcclxuXHJcbiAgICBzaG93UmV2aWV3LmZvckVhY2goZWwgPT4ge1xyXG4gICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgZWxUZXh0ID0gZWwuaW5uZXJUZXh0O1xyXG4gICAgICAgICAgICBsZXQgaGlkZGVuVGV4dCA9IGVsLnByZXZpb3VzRWxlbWVudFNpYmxpbmc7XHJcbiAgICAgICAgICAgIGxldCBpbWFnZXMgPSBlbC5uZXh0RWxlbWVudFNpYmxpbmc7XHJcblxyXG4gICAgICAgICAgICBlbC5pbm5lclRleHQgPSBlbFRleHQgPT0gJ3JlYWQgbW9yZSA+JyA/ICc8IGhpZGUnIDogJ3JlYWQgbW9yZSA+JztcclxuICAgICAgICAgICAgaGlkZGVuVGV4dC5jbGFzc0xpc3QudG9nZ2xlKCdzaG93Jyk7XHJcbiAgICAgICAgICAgIGltYWdlcy5jbGFzc0xpc3QudG9nZ2xlKFwic2hvd1wiKTtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIGhpZGVCbG9jaygpIHtcclxuICAgICAgICBsZXQgbWF4ID0gMTI4O1xyXG4gICAgICAgIGxldCBwcm9kdWN0UmV2aWV3ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmpzLWhpZGUtcmV2aWV3Jyk7XHJcbiAgICAgICAgcHJvZHVjdFJldmlldy5mb3JFYWNoKGVsID0+IHtcclxuICAgICAgICAgICAgbGV0IHByb2R1Y3RUZXh0ID0gZWwucXVlcnlTZWxlY3RvcihcIi5wYWdlLXRleHRcIik7XHJcbiAgICAgICAgICAgIGxldCBzdHIgPSBwcm9kdWN0VGV4dC5pbm5lclRleHQudHJpbSgpO1xyXG4gICAgICAgICAgICBsZXQgaW1hZ2VzID0gZWwucXVlcnlTZWxlY3RvcignLnByb2R1Y3QtcmV2aWV3X19pbWFnZXMnKTtcclxuICAgICAgICAgICAgaWYgKHN0ci5sZW5ndGggPiBtYXgpIHtcclxuICAgICAgICAgICAgICAgIGxldCBzdWJTdHIgPSBzdHIuc3Vic3RyaW5nKDAsIG1heCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgaGlkZGVuU3RyID0gc3RyLnN1YnN0cmluZyhtYXgsIHN0ci5sZW5ndGgpO1xyXG4gICAgICAgICAgICAgICAgcHJvZHVjdFRleHQuaW5uZXJUZXh0ID0gc3ViU3RyO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBoaWRkZW5UZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG4gICAgICAgICAgICAgICAgaGlkZGVuVGV4dC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4tdGV4dCcsICdwYWdlLXRleHQnLCAnanMtaGlkZGVuLXRleHQnKTtcclxuICAgICAgICAgICAgICAgIGhpZGRlblRleHQudGV4dENvbnRlbnQgPSBoaWRkZW5TdHI7XHJcblxyXG4gICAgICAgICAgICAgICAgcHJvZHVjdFRleHQuYWZ0ZXIoaGlkZGVuVGV4dCk7XHJcblxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBsZXQgcmVhZE1vcmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcbiAgICAgICAgICAgIHJlYWRNb3JlLmNsYXNzTGlzdC5hZGQoJ3JlYWQtbW9yZScsICdqcy1zaG93LXJldmlldycpO1xyXG4gICAgICAgICAgICByZWFkTW9yZS50ZXh0Q29udGVudCA9ICdyZWFkIG1vcmUgPic7XHJcblxyXG4gICAgICAgICAgICBpbWFnZXMuYmVmb3JlKHJlYWRNb3JlKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBhY2NvcmRpb25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5hY2NvcmRpb25fX2l0ZW1cIik7XHJcblxyXG4gICAgY29uc3Qgb3BlbkFjY29yZGlvbiA9IGFjY29yZGlvbiA9PiB7XHJcbiAgICAgICAgY29uc3QgY29udGVudCA9IGFjY29yZGlvbi5xdWVyeVNlbGVjdG9yKFwiLmFjY29yZGlvbl9fYm9keVwiKTtcclxuICAgICAgICBhY2NvcmRpb24uY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTtcclxuICAgICAgICBjb250ZW50LnN0eWxlLm1heEhlaWdodCA9IGNvbnRlbnQuc2Nyb2xsSGVpZ2h0ICsgXCJweFwiO1xyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCBjbG9zZUFjY29yZGlvbiA9IGFjY29yZGlvbiA9PiB7XHJcbiAgICAgICAgY29uc3QgY29udGVudCA9IGFjY29yZGlvbi5xdWVyeVNlbGVjdG9yKFwiLmFjY29yZGlvbl9fYm9keVwiKTtcclxuICAgICAgICBhY2NvcmRpb24uY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKTtcclxuICAgICAgICBjb250ZW50LnN0eWxlLm1heEhlaWdodCA9IG51bGw7XHJcbiAgICB9O1xyXG5cclxuICAgIGFjY29yZGlvbnMuZm9yRWFjaChhY2NvcmRpb24gPT4ge1xyXG4gICAgICAgIGNvbnN0IGludHJvID0gYWNjb3JkaW9uLnF1ZXJ5U2VsZWN0b3IoXCIuYWNjb3JkaW9uX19oZWFkZXJcIik7XHJcbiAgICAgICAgY29uc3QgY29udGVudCA9IGFjY29yZGlvbi5xdWVyeVNlbGVjdG9yKFwiLmFjY29yZGlvbl9fYm9keVwiKTtcclxuXHJcbiAgICAgICAgaW50cm8ub25jbGljayA9ICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGNvbnRlbnQuc3R5bGUubWF4SGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICBjbG9zZUFjY29yZGlvbihhY2NvcmRpb24pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gYWNjb3JkaW9ucy5mb3JFYWNoKChhY2NvcmRpb24pID0+IGNsb3NlQWNjb3JkaW9uKGFjY29yZGlvbikpO1xyXG4gICAgICAgICAgICAgICAgb3BlbkFjY29yZGlvbihhY2NvcmRpb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnN0IHNpZGViYXJMaW5rcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc2lkZWJhci1tZW51X19saW5rXCIpO1xyXG5cclxuICAgIHNpZGViYXJMaW5rcy5mb3JFYWNoKGVsZW0gPT4gZWxlbS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgbmF2YmFyTGlua0NsaWNrKSk7XHJcblxyXG4gICAgZnVuY3Rpb24gbmF2YmFyTGlua0NsaWNrKGV2ZW50KSB7XHJcbiAgICAgICAgc21vb3RoU2Nyb2xsKGV2ZW50KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzbW9vdGhTY3JvbGwoZXZlbnQpIHtcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGNvbnN0IHRhcmdldElkID0gZXZlbnQuY3VycmVudFRhcmdldC5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpO1xyXG4gICAgICAgIGlmICh3aW5kb3cuc2NyZWVuLndpZHRoID4gMTAyNCkge1xyXG4gICAgICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oe1xyXG4gICAgICAgICAgICAgICAgdG9wOiB0YXJnZXRJZCA9PT0gXCIjXCIgPyAwIDogZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXRJZCkub2Zmc2V0VG9wIC0gMTAwLFxyXG4gICAgICAgICAgICAgICAgYmVoYXZpb3I6IFwic21vb3RoXCJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgd2luZG93LnNjcm9sbFRvKHtcclxuICAgICAgICAgICAgICAgIHRvcDogdGFyZ2V0SWQgPT09IFwiI1wiID8gMCA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0SWQpLm9mZnNldFRvcCAtIDIwMCxcclxuICAgICAgICAgICAgICAgIGJlaGF2aW9yOiBcInNtb290aFwiXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2R1Y3RzLXN0aWNreScpICE9PSBudWxsKSB7XHJcblxyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvcHRpbWl6ZWRSZXNpemUnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRvZ2dsZUZpeGVkKCcucHJvZHVjdHMtc3RpY2t5Jyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICB0b2dnbGVGaXhlZCgnLnByb2R1Y3RzLXN0aWNreScpO1xyXG5cclxuICAgICAgICB0aHJvdHRsZShcInJlc2l6ZVwiLCBcIm9wdGltaXplZFJlc2l6ZVwiKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgaWYoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnN0aWNreS1ibG9jaycpICE9PSBudWxsKSB7XHJcbiAgICAgICAgbGV0IHN0aWNreUJsb2NrQ29vcmRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnN0aWNreS1ibG9jaycpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmJvdHRvbSArIHdpbmRvdy5wYWdlWU9mZnNldDtcclxuXHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0cmFja1Njcm9sbCgnLnN0aWNreS1ibG9jaycpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHRyYWNrU2Nyb2xsKGVsZW1lbnRzKSB7XHJcbiAgICAgICAgbGV0IHN0aWNreUJsb2NrcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoZWxlbWVudHMpO1xyXG4gICAgICAgIHN0aWNreUJsb2Nrcy5mb3JFYWNoKGVsID0+IHtcclxuICAgICAgICAgICAgaWYgKGVsLmNsYXNzTGlzdC5jb250YWlucygnc2hvdycpICYmIHdpbmRvdy5wYWdlWU9mZnNldCA8IHN0aWNreUJsb2NrQ29vcmRzKSB7XHJcbiAgICAgICAgICAgICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKCdzaG93Jyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAod2luZG93LnBhZ2VZT2Zmc2V0ID4gc3RpY2t5QmxvY2tDb29yZHMpIHtcclxuICAgICAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoJ3Nob3cnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHRocm90dGxlKHR5cGUsIG5hbWUsIG9iaikge1xyXG4gICAgICAgIG9iaiA9IG9iaiB8fCB3aW5kb3c7XHJcbiAgICAgICAgdmFyIHJ1bm5pbmcgPSBmYWxzZTtcclxuICAgICAgICB2YXIgZnVuYyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHJ1bm5pbmcpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBydW5uaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIG9iai5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudChuYW1lKSk7XHJcbiAgICAgICAgICAgICAgICBydW5uaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgb2JqLmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgZnVuYyk7XHJcbiAgICB9O1xyXG5cclxuICAgIGZ1bmN0aW9uIHRvZ2dsZUZpeGVkKGVsKSB7XHJcbiAgICAgICAgbGV0IGVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGVsKTtcclxuICAgICAgICBsZXQgZml4ZWRXaWR0aCA9IHdpbmRvdy5zY3JlZW4ud2lkdGggPiAxMDI0ID8gZWxlbWVudC5wYXJlbnRFbGVtZW50LmNsaWVudFdpZHRoIC0gMjg1IDogZWxlbWVudC5wYXJlbnRFbGVtZW50LmNsaWVudFdpZHRoO1xyXG4gICAgICAgIGVsZW1lbnQuc3R5bGUud2lkdGggPSBmaXhlZFdpZHRoICsgJ3B4JztcclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy8gaGFtYnVyZ2VyIG9wZW4vY2xvc2UgYW5pbWF0aW9uXHJcbiAgICBjb25zdCB0cmlnZ2VyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNoYW1idXJnZXJcIik7XHJcbiAgICBjb25zdCBtb2JpbGVOYXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI21vYmlsZS1uYXZcIik7XHJcbiAgICBsZXQgaXNDbG9zZWQgPSB0cnVlO1xyXG5cclxuICAgIHRyaWdnZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGJ1cmdlclRpbWUpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGJ1cmdlclRpbWUoKSB7XHJcbiAgICAgICAgaWYgKGlzQ2xvc2VkID09IHRydWUpIHtcclxuICAgICAgICAgICAgdHJpZ2dlci5jbGFzc0xpc3QucmVtb3ZlKFwiaXMtb3BlblwiKTtcclxuICAgICAgICAgICAgdHJpZ2dlci5jbGFzc0xpc3QuYWRkKFwiaXMtY2xvc2VkXCIpO1xyXG4gICAgICAgICAgICBtb2JpbGVOYXYuY2xhc3NMaXN0LmFkZCgnaXMtb3BlbicpO1xyXG4gICAgICAgICAgICBpc0Nsb3NlZCA9IGZhbHNlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRyaWdnZXIuY2xhc3NMaXN0LnJlbW92ZShcImlzLWNsb3NlZFwiKTtcclxuICAgICAgICAgICAgdHJpZ2dlci5jbGFzc0xpc3QuYWRkKFwiaXMtb3BlblwiKTtcclxuICAgICAgICAgICAgbW9iaWxlTmF2LmNsYXNzTGlzdC5yZW1vdmUoJ2lzLW9wZW4nKTtcclxuICAgICAgICAgICAgaXNDbG9zZWQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBzZWFyY2ggZm9ybSBvcGVuL2Nsb3NlIGFuaW1hdGlvblxyXG4gICAgY29uc3Qgc2VhcmNoQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zZWFyY2gtZm9ybV9fYnRuXCIpO1xyXG4gICAgc2VhcmNoQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5jbGFzc0xpc3QudG9nZ2xlKFwiY2xvc2VcIik7XHJcbiAgICAgICAgdGhpcy5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLmNsYXNzTGlzdC50b2dnbGUoXCJpbmNsaWNrZWRcIik7XHJcbiAgICAgICAgdGhpcy5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLnZhbHVlID0gXCJcIjtcclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnN0IHByb2R1Y3RSZXZpZXdTdGFycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucHJvZHVjdC1yZXZpZXdfX3N0YXJzXCIpO1xyXG4gICAgcHJvZHVjdFJldmlld1N0YXJzLmZvckVhY2goZnVuY3Rpb24gKGVsKSB7XHJcbiAgICAgICAgY29uc3QgZGF0YVJhdGluZyA9IGVsLmdldEF0dHJpYnV0ZShcImRhdGEtcmF0aW5nXCIpO1xyXG4gICAgICAgIGNvbnN0IHN0YXJzID0gZWwuY2hpbGRyZW47XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhUmF0aW5nOyBpKyspIHtcclxuICAgICAgICAgICAgc3RhcnNbaV0uY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwianMtb3Blbi1kcm9wZG93blwiKSAmJiB3aW5kb3cuc2NyZWVuLndpZHRoIDw9IDU3Nikge1xyXG4gICAgICAgICAgICBjb25zdCBjYXJldERyb3Bkb3duID0gZS50YXJnZXQuZmlyc3RFbGVtZW50Q2hpbGQ7XHJcbiAgICAgICAgICAgIGNvbnN0IGRyb3Bkb3duID0gZS50YXJnZXQubmV4dEVsZW1lbnRTaWJsaW5nO1xyXG4gICAgICAgICAgICBpZiAoZHJvcGRvd24uc3R5bGUubWF4SGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICBkcm9wZG93bi5zdHlsZS5tYXhIZWlnaHQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgZHJvcGRvd24uc3R5bGUub3BhY2l0eSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICBlLnRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKFwiZHJvcGRvd24tYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZHJvcGRvd24uc3R5bGUubWF4SGVpZ2h0ID0gZHJvcGRvd24uc2Nyb2xsSGVpZ2h0ICsgXCJweFwiO1xyXG4gICAgICAgICAgICAgICAgZHJvcGRvd24uc3R5bGUub3BhY2l0eSA9IDE7XHJcbiAgICAgICAgICAgICAgICBlLnRhcmdldC5jbGFzc0xpc3QuYWRkKFwiZHJvcGRvd24tYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG5cclxuICAgIGNvbnN0IGJhc2ljU2Nyb2xsVG9wID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGNvbnN0IGJ0blRvcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1idG4tZ28tdG9wJyk7XHJcbiAgICAgICAgY29uc3QgYnRuUmV2ZWFsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAod2luZG93LnNjcm9sbFkgPj0gMzAwKSB7XHJcbiAgICAgICAgICAgICAgICBidG5Ub3AuY2xhc3NMaXN0LmFkZCgnaXMtdmlzaWJsZScpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYnRuVG9wLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLXZpc2libGUnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBUb3BzY3JvbGxUbyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHdpbmRvdy5zY3JvbGxZICE9IDApIHtcclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5zY3JvbGxUbygwLCB3aW5kb3cuc2Nyb2xsWSAtIDMwKTtcclxuICAgICAgICAgICAgICAgICAgICBUb3BzY3JvbGxUbygpO1xyXG4gICAgICAgICAgICAgICAgfSwgMTApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBidG5SZXZlYWwpO1xyXG4gICAgICAgIGJ0blRvcC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIFRvcHNjcm9sbFRvKTtcclxuXHJcbiAgICB9O1xyXG4gICAgYmFzaWNTY3JvbGxUb3AoKTtcclxuXHJcbiAgICBjb25zdCBvcGVuTW9kYWwgPSAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgbW9kYWxCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmpzLW1vZGFsXCIpO1xyXG4gICAgICAgIGNvbnN0IG1vZGFsQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbC1iYWNrZ3JvdW5kXCIpO1xyXG5cclxuICAgICAgICBtb2RhbEJ0bi5mb3JFYWNoKGVsID0+IHtcclxuICAgICAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZChcIm1vZGFsLWFjdGl2ZVwiKTtcclxuICAgICAgICAgICAgICAgIG1vZGFsQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJvdXRcIik7XHJcbiAgICAgICAgICAgICAgICBtb2RhbENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwib3BlbmVkXCIpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgIGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcIm1vZGFsLWNvbnRhaW5lclwiKSB8fFxyXG4gICAgICAgICAgICAgICAgZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibW9kYWwtY2xvc2VcIilcclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoXCJtb2RhbC1hY3RpdmVcIik7XHJcbiAgICAgICAgICAgICAgICBtb2RhbENvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKFwib3BlbmVkXCIpO1xyXG4gICAgICAgICAgICAgICAgbW9kYWxDb250YWluZXIuY2xhc3NMaXN0LmFkZChcIm91dFwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIGlmIChlLmtleUNvZGUgPT0gMjcpIHtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZShcIm1vZGFsLWFjdGl2ZVwiKTtcclxuICAgICAgICAgICAgICAgIG1vZGFsQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJvcGVuZWRcIik7XHJcbiAgICAgICAgICAgICAgICBtb2RhbENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwib3V0XCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIG9wZW5Nb2RhbCgpO1xyXG5cclxuICAgIGNvbnN0IHNlZU1vcmUgPSAobnVtYmVyLCBlbGVtZW50cywgYnV0dG9uKSA9PiB7XHJcblxyXG4gICAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGJ1dHRvbikgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCAoKSA9PiBzaG93SGlkZUJsb2NrcyhudW1iZXIsIGVsZW1lbnRzLCBidXR0b24pKTtcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCAoKSA9PiBzaG93SGlkZUJsb2NrcyhudW1iZXIsIGVsZW1lbnRzLCBidXR0b24pKTtcclxuXHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihidXR0b24pLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnRleHRDb250ZW50ID09IFwiU2VlIG1vcmVcIikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0Q29udGVudCA9IFwiU2VlIGxlc3NcIjtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudGV4dENvbnRlbnQgPSBcIlNlZSBtb3JlXCI7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChlbGVtZW50cykuZm9yRWFjaCgoZWxlbSwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChlbGVtLnN0eWxlLmRpc3BsYXkgPT0gXCJub25lXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBlbGVtLnN0eWxlLmRpc3BsYXkgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPiBudW1iZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHNob3dIaWRlQmxvY2tzKG51bWJlciwgZWxlbWVudHMsIGJ1dHRvbikge1xyXG4gICAgICAgICAgICBjb25zdCBlbGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoZWxlbWVudHMpO1xyXG4gICAgICAgICAgICBjb25zdCBidG5TaG93SGlkZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYnV0dG9uKTtcclxuXHJcbiAgICAgICAgICAgIGlmICh3aW5kb3cuc2NyZWVuLndpZHRoIDw9IDgwMCAmJiBlbGVtcy5sZW5ndGggPiBudW1iZXIpIHtcclxuICAgICAgICAgICAgICAgIGVsZW1zLmZvckVhY2goKGVsZW0sIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ID4gbnVtYmVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW0uc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnRuU2hvd0hpZGUuc3R5bGUuZGlzcGxheSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBlbGVtcy5mb3JFYWNoKChlbGVtLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGVsZW0uc3R5bGUuZGlzcGxheSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgYnRuU2hvd0hpZGUuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBzZWVNb3JlKDMsICcucHJvZHVjdC1jb21wYXJlLXRvcF9faXRlbScsICcuanMtc2VlLW1vcmUtcHJvZHVjdHMnKTtcclxuICAgIHNlZU1vcmUoMSwgJy5oZWxwLWNlbnRlcl9faXRlbScsICcuanMtc2VlLW1vcmUtaGVscCcpO1xyXG5cclxuICAgIGNvbnN0IHNob3dGb290ZXJMaW5rcyA9ICgpID0+IHtcclxuICAgICAgICBjb25zdCBmb290ZXJUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5mb290ZXJfX3RpdGxlJyk7XHJcbiAgICAgICAgY29uc3QgZm9vdGVyTGlua3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZm9vdGVyX19saW5rcycpO1xyXG5cclxuICAgICAgICAvLyB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHNob3dIaWRlTGlua3MpO1xyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh3aW5kb3cuc2NyZWVuLndpZHRoIDw9IDU3Nikge1xyXG4gICAgICAgICAgICAgICAgZm9vdGVyTGlua3MuZm9yRWFjaChmb290ZXJMaW5rID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBmb290ZXJMaW5rLnN0eWxlLm1heEhlaWdodCA9IDA7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGZvb3RlckxpbmtzLmZvckVhY2goZm9vdGVyTGluayA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9vdGVyTGluay5zdHlsZS5tYXhIZWlnaHQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZm9vdGVyVGl0bGUuZm9yRWFjaCh0aXRsZSA9PiB7XHJcbiAgICAgICAgICAgIHRpdGxlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZm9vdGVyTGlua3MgPSB0aGlzLm5leHRFbGVtZW50U2libGluZztcclxuICAgICAgICAgICAgICAgIGlmIChnZXRDb21wdXRlZFN0eWxlKGZvb3RlckxpbmtzKS5tYXhIZWlnaHQgPT0gJzBweCcpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvb3RlckxpbmtzLnN0eWxlLm1heEhlaWdodCA9IGZvb3RlckxpbmtzLnNjcm9sbEhlaWdodCArIFwicHhcIjtcclxuICAgICAgICAgICAgICAgICAgICBmb290ZXJMaW5rcy5zdHlsZS5vcGFjaXR5ID0gMTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgICAgICBmb290ZXJMaW5rcy5zdHlsZS5tYXhIZWlnaHQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvb3RlckxpbmtzLnN0eWxlLm9wYWNpdHkgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHNob3dGb290ZXJMaW5rcygpO1xyXG5cclxuICAgIGNvbnN0IHNldFBlcmNlbnQgPSAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgY2lyY3VsYXJQcm9ncmVzcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuanMtY2lyY3VsYXItcHJvZ3Jlc3NcIik7XHJcblxyXG4gICAgICAgIGNpcmN1bGFyUHJvZ3Jlc3MuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICAgICAgY29uc3QgY2lyY2xlID0gaXRlbS5xdWVyeVNlbGVjdG9yKCcuY2lyY3VsYXItcHJvZ3Jlc3NfX3BlcmNlbnQnKTtcclxuICAgICAgICAgICAgY29uc3QgdGV4dCA9IGl0ZW0ucXVlcnlTZWxlY3RvcignLmNpcmN1bGFyLWluZm9fX251bWJlcicpO1xyXG4gICAgICAgICAgICBjb25zdCBkYXRhUGVyY2VudCA9IGl0ZW0uZ2V0QXR0cmlidXRlKCdkYXRhLXBlcmNlbnQnKTtcclxuICAgICAgICAgICAgY29uc3QgcGVyY2VudCA9ICgxMDAgLSBkYXRhUGVyY2VudCkvMTAwO1xyXG4gICAgICAgICAgICBjaXJjbGUuc3R5bGUuc3Ryb2tlRGFzaG9mZnNldCA9IGBjYWxjKDIqMzAqMy4xNCoke3BlcmNlbnR9KWA7XHJcbiAgICAgICAgICAgIHRleHQudGV4dENvbnRlbnQgPSBkYXRhUGVyY2VudDtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRQZXJjZW50KCk7XHJcblxyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImJsdXJcIiwgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBpZihlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2NvbnRhY3QtZm9ybV9fZmllbGQnKSB8fCBlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2NvbnRhY3QtZm9ybV9fbWVzc2FnZScpKSB7XHJcbiAgICAgICAgICAgIGlmKGUudGFyZ2V0LnZhbHVlLnRyaW0oKSAhPSAnJykge1xyXG4gICAgICAgICAgICAgICAgZS50YXJnZXQubmV4dEVsZW1lbnRTaWJsaW5nLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZS50YXJnZXQubmV4dEVsZW1lbnRTaWJsaW5nLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSwgdHJ1ZSk7XHJcblxyXG4gICAgJChcIi5qcy1wcm9kdWN0LXNsaWRlci1wcmV2aWV3XCIpLnNsaWNrKHtcclxuICAgICAgICBzbGlkZXNUb1Nob3c6IDQsXHJcbiAgICAgICAgdmVydGljYWw6IHRydWUsXHJcbiAgICAgICAgdmVydGljYWxTd2lwaW5nOiB0cnVlLFxyXG4gICAgICAgIHNsaWRlc1RvU2Nyb2xsOiAxLFxyXG4gICAgICAgIGZvY3VzT25TZWxlY3Q6IHRydWUsXHJcbiAgICAgICAgcHJldkFycm93OiBcIi5wcm9kdWN0LXNsaWRlci1wcmV2aWV3X19idG4tLXByZXZcIixcclxuICAgICAgICBuZXh0QXJyb3c6IFwiLnByb2R1Y3Qtc2xpZGVyLXByZXZpZXdfX2J0bi0tbmV4dFwiLFxyXG4gICAgICAgIHZhcmlhYmxlV2lkdGg6IHRydWUsXHJcbiAgICAgICAgYXNOYXZGb3I6IFwiLnByb2R1Y3Qtc2xpZGVyLW1haW5cIlxyXG4gICAgfSk7XHJcbiAgICAkKFwiLnByb2R1Y3Qtc2xpZGVyLW1haW5cIikuc2xpY2soe1xyXG4gICAgICAgIHNsaWRlc1RvU2hvdzogMSxcclxuICAgICAgICBzbGlkZXNUb1Njcm9sbDogMSxcclxuICAgICAgICBhcnJvd3M6IGZhbHNlLFxyXG4gICAgICAgIGZhZGU6IHRydWUsXHJcbiAgICAgICAgYXNOYXZGb3I6IFwiLmpzLXByb2R1Y3Qtc2xpZGVyLXByZXZpZXdcIlxyXG4gICAgfSk7XHJcbiAgICAkKFwiLmpzLXByb2R1Y3QtY29tcGFyZS1zbGlkZXJcIikuc2xpY2soe1xyXG4gICAgICAgIHNsaWRlc1RvU2hvdzogMSxcclxuICAgICAgICBzbGlkZXNUb1Njcm9sbDogMSxcclxuICAgICAgICBwcmV2QXJyb3c6IFwiLnByb2R1Y3QtY29tcGFyZS1zbGlkZXJfX2J0bi0tcHJldlwiLFxyXG4gICAgICAgIG5leHRBcnJvdzogXCIucHJvZHVjdC1jb21wYXJlLXNsaWRlcl9fYnRuLS1uZXh0XCIsXHJcbiAgICAgICAgLy8gdmFyaWFibGVXaWR0aDogdHJ1ZSxcclxuICAgIH0pO1xyXG4gICAgJChcIi5qcy1yZWxhdGVkLXByb2R1Y3RzLXNsaWRlclwiKS5zbGljayh7XHJcbiAgICAgICAgc2xpZGVzVG9TaG93OiAzLFxyXG4gICAgICAgIHNsaWRlc1RvU2Nyb2xsOiAxLFxyXG4gICAgICAgIHByZXZBcnJvdzogXCIuanMtcmVsYXRlZC1wcmV2XCIsXHJcbiAgICAgICAgbmV4dEFycm93OiBcIi5qcy1yZWxhdGVkLW5leHRcIixcclxuICAgICAgICByZXNwb25zaXZlOiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGJyZWFrcG9pbnQ6IDc2OCxcclxuICAgICAgICAgICAgICAgIHNldHRpbmdzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2xpZGVzVG9TaG93OiAyLFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBicmVha3BvaW50OiA1NzYsXHJcbiAgICAgICAgICAgICAgICBzZXR0aW5nczoge1xyXG4gICAgICAgICAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogMSxcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICBdXHJcbiAgICB9KTtcclxuICAgICQoXCIuanMtcmVzZW50bHktdmlld2VkLXNsaWRlclwiKS5zbGljayh7XHJcbiAgICAgICAgc2xpZGVzVG9TaG93OiA0LFxyXG4gICAgICAgIHNsaWRlc1RvU2Nyb2xsOiAxLFxyXG4gICAgICAgIHByZXZBcnJvdzogXCIuanMtcmVzZW50bHktdmlld2VkLXByZXZcIixcclxuICAgICAgICBuZXh0QXJyb3c6IFwiLmpzLXJlc2VudGx5LXZpZXdlZC1uZXh0XCIsXHJcbiAgICAgICAgcmVzcG9uc2l2ZTogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBicmVha3BvaW50OiA5OTIsXHJcbiAgICAgICAgICAgICAgICBzZXR0aW5nczoge1xyXG4gICAgICAgICAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogMyxcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgYnJlYWtwb2ludDogNzY4LFxyXG4gICAgICAgICAgICAgICAgc2V0dGluZ3M6IHtcclxuICAgICAgICAgICAgICAgICAgICBzbGlkZXNUb1Nob3c6IDIsXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGJyZWFrcG9pbnQ6IDU3NixcclxuICAgICAgICAgICAgICAgIHNldHRpbmdzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2xpZGVzVG9TaG93OiAxLFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIF1cclxuICAgIH0pO1xyXG4gICAgJCgnYm9keScpLm9uKCdrZXl1cCcsICcuanMtc2VhcmNoLW1hdGNoZXMnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgbGV0IHNlbGYgPSAkKHRoaXMpO1xyXG4gICAgICAgIGxldCBsaXN0ID0gJCgnLicgKyBzZWxmLmRhdGEoJ2xpc3QnKSk7XHJcbiAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgdXJsOiBzZWxmLmRhdGEoJ3VybCcpICsgJz9xPScgKyBzZWxmLnZhbCgpLFxyXG4gICAgICAgICAgICB0eXBlOiAnR0VUJyxcclxuICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICBsaXN0LmVtcHR5KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLml0ZW1zLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICQuZWFjaChyZXNwb25zZS5pdGVtcywgZnVuY3Rpb24gKGksIGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdC5hcHBlbmQoYDxhIGNsYXNzPVwic2VhcmNoLWZvcm0tbWF0Y2hlc19fbGlua1wiIGhyZWY9XCIke2l0ZW0udXJsfVwiPiR7aXRlbS50aXRsZX08L2E+YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59KSgpOyJdLCJmaWxlIjoibWFpbi5qcyJ9
